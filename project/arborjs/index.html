<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>arbor.js project template</title>
    <style type="text/css">
body{
  margin:0;
  padding:20px;
  font:12px/17px Arial, sans-serif;
  background:#f9f9f9;
}
    </style>
</head>
<body>
  <canvas id="viewport" width="800" height="600"></canvas>

  <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>


  <script src="./js/arbor.js"></script>
<script src="./js/graphics.js"></script>
  <script src="./js/arbor-tween.js"></script>
  <script src="./js/main.js"></script>
  <script type="text/javascript" src="http://top.blog.sina.com.cn/ws/GetTopDataList.php?top_cat=wbrmzf_blog&top_order=DESC&top_time=today&js_var=__hostlist__&top_type=all&top_show_num=15"></script>
<script type="text/javascript">

function randColor(){
  return '#'+('00000'+(Math.random()*0x1000000<<0).toString(16)).slice(-6);
}

function addEdges(){

  var length = edges.length;
  var edge = [];

  var id = Math.ceil(Math.random()*length);
  var weight = Math.ceil(Math.random()*10);

  edge[id]={'weight':weight};

  edges.push(
    edge
  )
}
var nodes = [];
var edges = [];
for(var i=0;i<__hostlist__.data.length;i++)
{
  var weibo = __hostlist__.data[i];
  var item = {
      'description':weibo.title,
      'type':'weibo',
      'color':randColor(),
      'link':weibo.url
  };
  nodes.push(item);
  addEdges();
}

$('#viewport').arbor({
'nodes':nodes,
'edges':edges
})
</script>

</body>
</html>
